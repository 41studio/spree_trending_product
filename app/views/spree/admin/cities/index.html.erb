<% content_for :page_title do %>
  <%= plural_resource_name(Spree::City) %>
<% end %>

<% content_for :page_actions do %>
  <%= button_link_to Spree.t(:new_city), new_admin_state_city_url(@city), { class: "btn-success", icon: 'add', id: 'new_city_link' } %>
<% end if can? :create, Spree::City %>

<div data-hook="city" class="form-group">
  <%= label_tag :city, Spree.t(:city) %>
  <select id="city" class='observe_field select2' data-base-url="<%=admin_cities_path(format: :js) %>?city_id=" data-update="#city-list">
    <%= options_from_collection_for_select(@states, :id, :name, @city.id) %>
  </select>
</div>

<div id="city-list" data-hook>
  <%= render partial: 'city_list'%>
</div>
